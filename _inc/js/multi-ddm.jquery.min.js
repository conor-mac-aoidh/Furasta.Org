/*
 * Multi-level Drop Down Menu 3.0
 * April 17, 2010
 * Corey Hart @ http://www.codenothing.com
 */ 
(function(f,i,c){var b,j=Array.prototype,d=j._reverse||j.reverse;function e(){return this}function g(){f(b=this).children("a").removeClass(f.data(b.parentNode,"multi-ddm-classname"))}function h(){f(b=this).hide().siblings("a").removeClass(f.data(b.parentNode.parentNode,"multi-ddm-classname"))}f.fn.dropDownMenu=function(a){return this.each(function(){var q=f(this),l=0,n,p,m=f.extend({timer:500,parentMO:c,childMO:c,bgiframe:c,levels:[]},a||{},f.metadata?q.metadata():{}),o=f.fn.bgiframe||f.fn.bgIframe||e;n=q.data("multi-ddm-classname",m.levels[0]||m.parentMO||m.childMO||"");while(n.length>0){n=o.call(n.find("> li > ul").data("multi-ddm-classname",m.levels[++l]||m.childMO||""),m.bgiframe)}q.delegate("li","mouseenter.multi-ddm",function(){var r=f(b=this);if(p){clearTimeout(p)}d.call(r.siblings("li").find("ul:visible")).each(h).end().each(g);r.children("a").addClass(f.data(b.parentNode,"multi-ddm-classname")).siblings("ul").show().children("li").each(g)}).bind("mouseleave.multi-ddm",function(){p=setTimeout(k,m.timer)});function k(){q.find("li").each(g);d.call(q.find("ul:visible")).hide();if(p){clearTimeout(p)}}f(i.document).bind("click.multi-ddm",k)})}})(jQuery,window||this);